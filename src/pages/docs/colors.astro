---
import DocsLayout from '../../layouts/DocsLayout.astro';
import ThemeSwitcher from '../../components/ThemeSwitcher.astro';
import CopyToClipboard from '../../components/CopyToClipboard.astro';

const COLOR_SCALE_STEPS = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900, 950] as const;
const COLOR_SCALES: { id: string; label: string }[] = [
	{ id: 'neutral', label: 'Neutral' },
	{ id: 'accent', label: 'Accent' },
	{ id: 'success', label: 'Success' },
	{ id: 'warning', label: 'Warning' },
	{ id: 'error', label: 'Error' },
	{ id: 'info', label: 'Info' },
];

function textColorForStep(step: number): string {
	return step <= 400 ? 'var(--text)' : 'var(--background)';
}
---

<DocsLayout title="Colors" description="Complete color reference with multiple format options (OKLCH, Hex, RGB, HSL, CSS Variable)">
	<div class="colors-doc">
	<section>
		<h2 id="color-reference">Color Reference</h2>
		<p>All colors in Rizzo CSS use semantic variables that adapt to the selected theme. Switch themes to see how colors change. Select a format tab to view and copy colors in that format.</p>
		<p>All color formats (OKLCH, Hex, RGB, HSL, and CSS Variable) are automatically converted and displayed. Click any copy button to copy the color value in the selected format to your clipboard.</p>
		
		<div class="example">
			<div class="example-title">Try Themes</div>
			<ThemeSwitcher idPrefix="page" />
		</div>
	</section>
	
	<section class="colors-doc__format-section" aria-labelledby="color-format">
		<h2 id="color-format" class="colors-doc__format-heading">Color format</h2>
		<p class="colors-doc__format-intro">Choose a format below to view and copy all color values in OKLCH, Hex, RGB, HSL, or as CSS variables.</p>
		<div class="color-format-tabs" role="tablist" aria-label="Color format selection">
			<span class="color-format-tab" role="tab" tabindex="0" aria-selected="true" aria-controls="color-format-panel" id="oklch-tab" data-format="oklch">OKLCH</span>
			<span class="color-format-tab" role="tab" tabindex="-1" aria-selected="false" aria-controls="color-format-panel" id="hex-tab" data-format="hex">Hex</span>
			<span class="color-format-tab" role="tab" tabindex="-1" aria-selected="false" aria-controls="color-format-panel" id="rgb-tab" data-format="rgb">RGB</span>
			<span class="color-format-tab" role="tab" tabindex="-1" aria-selected="false" aria-controls="color-format-panel" id="hsl-tab" data-format="hsl">HSL</span>
			<span class="color-format-tab" role="tab" tabindex="-1" aria-selected="false" aria-controls="color-format-panel" id="cssvar-tab" data-format="cssvar">CSS Variable</span>
		</div>

		<div id="color-format-panel" role="tabpanel" aria-labelledby="oklch-tab">
		<h2 id="core-colors">Core Colors</h2>
		<div class="colors-grid">
			<div class="color-card" style="--color-card-bg: var(--background--hex,#64748b); background-color: var(--background--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--background--hex,#64748b); background-color: var(--background--hex,#64748b);" data-color-var="--background" data-color-source="--bg">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Background</h3>
						<p class="color-swatch__var">--background</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--background-alt--hex,#64748b); background-color: var(--background-alt--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--background-alt--hex,#64748b); background-color: var(--background-alt--hex,#64748b);" data-color-var="--background-alt" data-color-source="--bg-alt">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Background Alt</h3>
						<p class="color-swatch__var">--background-alt</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-background-alt" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--text--hex,#64748b); background-color: var(--text--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--text--hex,#64748b); background-color: var(--text--hex,#64748b); color: var(--background);" data-color-var="--text" data-color-source="--fg">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Text</h3>
						<p class="color-swatch__var">--text</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--text-dim--hex,#64748b); background-color: var(--text-dim--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--text-dim--hex,#64748b); background-color: var(--text-dim--hex,#64748b); color: var(--background);" data-color-var="--text-dim" data-color-source="--fg-dim">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Text Dim</h3>
						<p class="color-swatch__var">--text-dim</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-text-dim" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--border--hex,#64748b); background-color: var(--border--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--border--hex,#64748b); background-color: var(--border--hex,#64748b);" data-color-var="--border" data-color-source="--current-line">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Border</h3>
						<p class="color-swatch__var">--border</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-border" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--selection--hex,#64748b); background-color: var(--selection--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--selection--hex,#64748b); background-color: var(--selection--hex,#64748b); color: var(--text);" data-color-var="--selection">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Selection</h3>
						<p class="color-swatch__var">--selection</p>
						<p class="color-swatch__desc">Text selection highlight</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--background--hex,#64748b); background-color: var(--background--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--icon--hex,#64748b); background-color: var(--icon--hex,#64748b); color: var(--icon);" data-color-var="--icon">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Icon</h3>
						<p class="color-swatch__var">--icon</p>
						<p class="color-swatch__desc">SVG currentColor</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--background--hex,#64748b); background-color: var(--background--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--icon-dim--hex,#64748b); background-color: var(--icon-dim--hex,#64748b); color: var(--icon-dim);" data-color-var="--icon-dim">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Icon Dim</h3>
						<p class="color-swatch__var">--icon-dim</p>
						<p class="color-swatch__desc">Secondary icons</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--shadow-color--hex,#64748b); background-color: var(--shadow-color--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--shadow-color--hex,#64748b); background-color: var(--shadow-color--hex,#64748b);" data-color-var="--shadow-color">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Shadow Color</h3>
						<p class="color-swatch__var">--shadow-color</p>
						<p class="color-swatch__desc">Base for shadows and overlay</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--overlay--hex,#64748b); background-color: var(--overlay--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--overlay--hex,#64748b); background-color: var(--overlay--hex,#64748b);" data-color-var="--overlay">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Overlay</h3>
						<p class="color-swatch__var">--overlay</p>
						<p class="color-swatch__desc">Modal/backdrop tint</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--primary-color--hex,#64748b); background-color: var(--primary-color--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--primary-color--hex,#64748b); background-color: var(--primary-color--hex,#64748b); color: var(--accent-text);" data-color-var="--primary-color">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Primary Color</h3>
						<p class="color-swatch__var">--primary-color</p>
						<p class="color-swatch__desc">Legacy token</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--secondary-color--hex,#64748b); background-color: var(--secondary-color--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--secondary-color--hex,#64748b); background-color: var(--secondary-color--hex,#64748b); color: var(--background);" data-color-var="--secondary-color">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Secondary Color</h3>
						<p class="color-swatch__var">--secondary-color</p>
						<p class="color-swatch__desc">Legacy token</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</section>
	
	<section>
		<h2 id="accent-colors">Accent Colors</h2>
		<div class="colors-grid">
			<div class="color-card" style="--color-card-bg: var(--accent--hex,#64748b); background-color: var(--accent--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--accent--hex,#64748b); background-color: var(--accent--hex,#64748b); color: var(--accent-text);" data-color-var="--accent" data-color-source="--purple,--cyan,--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Accent</h3>
						<p class="color-swatch__var">--accent</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--accent-hover--hex,#64748b); background-color: var(--accent-hover--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--accent-hover--hex,#64748b); background-color: var(--accent-hover--hex,#64748b); color: var(--accent-text);" data-color-var="--accent-hover" data-color-source="--pink,--purple,--cyan">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Accent Hover</h3>
						<p class="color-swatch__var">--accent-hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-accent-hover" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--accent-text);">
				<div class="color-swatch" style="--swatch-bg: var(--accent-text--hex,#64748b); background-color: var(--accent-text--hex,#64748b); color: var(--accent);" data-color-var="--accent-text" data-color-source="--purple,--cyan,--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Accent Text</h3>
						<p class="color-swatch__var">--accent-text</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--background--hex,#64748b); background-color: var(--background--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--accent-fg--hex,#64748b); background-color: var(--accent-fg--hex,#64748b); color: var(--accent-fg); border: 2px solid var(--accent-fg);" data-color-var="--accent-fg" data-color-source="--cyan,--purple,--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Accent FG</h3>
						<p class="color-swatch__var">--accent-fg</p>
						<p class="color-swatch__desc">Links, outline buttons, tabs, code</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--background--hex,#64748b); background-color: var(--background--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--accent-fg-hover--hex,#64748b); background-color: var(--accent-fg-hover--hex,#64748b); color: var(--accent-fg-hover); border: 2px solid var(--accent-fg-hover);" data-color-var="--accent-fg-hover" data-color-source="--cyan,--purple,--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Accent FG Hover</h3>
						<p class="color-swatch__var">--accent-fg-hover</p>
						<p class="color-swatch__desc">Link/outline hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--accent-hover--hex,#64748b); background-color: var(--accent-hover--hex,#64748b);">
				<div class="color-swatch" style="--swatch-bg: var(--accent-hover--hex,#64748b); background-color: var(--accent-hover--hex,#64748b); color: var(--accent-text-on-hover);" data-color-var="--accent-text-on-hover">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Accent Text on Hover</h3>
						<p class="color-swatch__var">--accent-text-on-hover</p>
						<p class="color-swatch__desc">Text on primary button hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	
	<section>
		<h2 id="semantic-colors">Semantic Colors</h2>
		<div class="colors-grid">
			<div class="color-card" style="--color-card-bg: var(--success);">
				<div class="color-swatch" style="--swatch-bg: var(--success--hex,#64748b); background-color: var(--success--hex,#64748b); color: var(--success-text);" data-color-var="--success" data-color-source="--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Success</h3>
						<p class="color-swatch__var">--success</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-success" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--success-hover);">
				<div class="color-swatch" style="--swatch-bg: var(--success-hover--hex,#64748b); background-color: var(--success-hover--hex,#64748b); color: var(--text);" data-color-var="--success-hover">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Success Hover</h3>
						<p class="color-swatch__var">--success-hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--success-text);">
				<div class="color-swatch" style="--swatch-bg: var(--success-text--hex,#64748b); background-color: var(--success-text--hex,#64748b); color: var(--success);" data-color-var="--success-text" data-color-source="--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Success Text</h3>
						<p class="color-swatch__var">--success-text</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--warning);">
				<div class="color-swatch" style="--swatch-bg: var(--warning--hex,#64748b); background-color: var(--warning--hex,#64748b); color: var(--warning-text);" data-color-var="--warning" data-color-source="--yellow">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Warning</h3>
						<p class="color-swatch__var">--warning</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-warning" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--warning-hover);">
				<div class="color-swatch" style="--swatch-bg: var(--warning-hover--hex,#64748b); background-color: var(--warning-hover--hex,#64748b); color: var(--text);" data-color-var="--warning-hover">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Warning Hover</h3>
						<p class="color-swatch__var">--warning-hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--warning-text);">
				<div class="color-swatch" style="--swatch-bg: var(--warning-text--hex,#64748b); background-color: var(--warning-text--hex,#64748b); color: var(--warning);" data-color-var="--warning-text" data-color-source="--yellow">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Warning Text</h3>
						<p class="color-swatch__var">--warning-text</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--error);">
				<div class="color-swatch" style="--swatch-bg: var(--error--hex,#64748b); background-color: var(--error--hex,#64748b); color: var(--error-text);" data-color-var="--error" data-color-source="--red">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Error</h3>
						<p class="color-swatch__var">--error</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--error-hover);">
				<div class="color-swatch" style="--swatch-bg: var(--error-hover--hex,#64748b); background-color: var(--error-hover--hex,#64748b); color: var(--text);" data-color-var="--error-hover">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Error Hover</h3>
						<p class="color-swatch__var">--error-hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--error-text);">
				<div class="color-swatch" style="--swatch-bg: var(--error-text--hex,#64748b); background-color: var(--error-text--hex,#64748b); color: var(--error);" data-color-var="--error-text" data-color-source="--red">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Error Text</h3>
						<p class="color-swatch__var">--error-text</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--info);">
				<div class="color-swatch" style="--swatch-bg: var(--info--hex,#64748b); background-color: var(--info--hex,#64748b); color: var(--info-text);" data-color-var="--info" data-color-source="--cyan">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Info</h3>
						<p class="color-swatch__var">--info</p>
						<div class="color-swatch__formats">
							<CopyToClipboard id="copy-color-info" value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--info-hover);">
				<div class="color-swatch" style="--swatch-bg: var(--info-hover--hex,#64748b); background-color: var(--info-hover--hex,#64748b); color: var(--text);" data-color-var="--info-hover">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Info Hover</h3>
						<p class="color-swatch__var">--info-hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			
			<div class="color-card" style="--color-card-bg: var(--info-text);">
				<div class="color-swatch" style="--swatch-bg: var(--info-text--hex,#64748b); background-color: var(--info-text--hex,#64748b); color: var(--info);" data-color-var="--info-text" data-color-source="--cyan">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Info Text</h3>
						<p class="color-swatch__var">--info-text</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	
	<section>
		<h2 id="text-on-solid">Text on solid (buttons, badges)</h2>
		<p>Contrast-aware text for solid semantic backgrounds. Themes may override for WCAG AA.</p>
		<div class="colors-grid">
			<div class="color-card" style="--color-card-bg: var(--success);">
				<div class="color-swatch" style="--swatch-bg: var(--success--hex,#64748b); background-color: var(--success--hex,#64748b); color: var(--success-text-on-solid);" data-color-var="--success-text-on-solid" data-color-source="--green">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Success Text on Solid</h3>
						<p class="color-swatch__var">--success-text-on-solid</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			<div class="color-card" style="--color-card-bg: var(--warning);">
				<div class="color-swatch" style="--swatch-bg: var(--warning--hex,#64748b); background-color: var(--warning--hex,#64748b); color: var(--warning-text-on-solid);" data-color-var="--warning-text-on-solid" data-color-source="--yellow">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Warning Text on Solid</h3>
						<p class="color-swatch__var">--warning-text-on-solid</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			<div class="color-card" style="--color-card-bg: var(--error);">
				<div class="color-swatch" style="--swatch-bg: var(--error--hex,#64748b); background-color: var(--error--hex,#64748b); color: var(--error-text-on-solid);" data-color-var="--error-text-on-solid" data-color-source="--red">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Error Text on Solid</h3>
						<p class="color-swatch__var">--error-text-on-solid</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			<div class="color-card" style="--color-card-bg: var(--info);">
				<div class="color-swatch" style="--swatch-bg: var(--info--hex,#64748b); background-color: var(--info--hex,#64748b); color: var(--info-text-on-solid);" data-color-var="--info-text-on-solid" data-color-source="--cyan">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Info Text on Solid</h3>
						<p class="color-swatch__var">--info-text-on-solid</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
			<div class="color-card" style="--color-card-bg: var(--warning);">
				<div class="color-swatch" style="--swatch-bg: var(--warning--hex,#64748b); background-color: var(--warning--hex,#64748b); color: var(--text-on-solid-hover);" data-color-var="--text-on-solid-hover">
					<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
					<div class="color-swatch__info">
						<h3 class="color-swatch__name">Text on Solid Hover</h3>
						<p class="color-swatch__var">--text-on-solid-hover</p>
						<p class="color-swatch__desc">Dark text on semantic button hover</p>
						<div class="color-swatch__formats">
							<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="color-scales-section">
		<h2 id="color-scales">Color scales (design tokens)</h2>
		<p>Stepped shades (50â€“950) for each scale. Step 500 is the theme base for accent, success, warning, error, and info. Neutral is a fixed gray scale. All values respect the format tabs above and support copy to clipboard.</p>
		{COLOR_SCALES.map((scale) => (
			<div class="color-scales-section__block">
				<h3 class="color-scales-section__scale-title">{scale.label}</h3>
				<div class="colors-grid colors-grid--scales">
					{COLOR_SCALE_STEPS.map((step) => {
						const varName = `--color-${scale.id}-${step}`;
						const textColor = textColorForStep(step);
						return (
							<div class="color-card" style={`--color-card-bg: var(${varName}--hex,#64748b); background-color: var(${varName}--hex,#64748b);`}>
								<div
									class="color-swatch color-swatch--scale"
									style={`--swatch-bg: var(${varName}--hex,#64748b); background-color: var(${varName}--hex,#64748b); color: ${textColor};`}
									data-color-var={varName}
								>
									<div class="color-swatch__bg" style="background-color: var(--swatch-bg,#64748b);" aria-hidden="true"></div>
									<div class="color-swatch__info">
										<h4 class="color-swatch__name">{scale.label} {step}</h4>
										<p class="color-swatch__var">{varName}</p>
										<div class="color-swatch__formats">
											<CopyToClipboard value="" format="" class="color-format__copy" dataColorCopy />
										</div>
									</div>
								</div>
							</div>
						);
					})}
				</div>
			</div>
		))}
	</section>
	</div>
</DocsLayout>

<style is:global>
	/* Color cards: force visibility. Card and swatch must show color; nothing may override. */
	.colors-doc .color-card,
	.docs__content .colors-doc .color-card {
		display: flex;
		flex-direction: column;
		border-radius: var(--radius-lg);
		overflow: hidden;
		min-height: var(--spacing-80);
		background-color: var(--color-card-bg, var(--background, #64748b)) !important;
	}
	.colors-doc .color-card .color-swatch,
	.docs__content .colors-doc .color-card .color-swatch {
		flex: 1 1 auto;
		min-height: var(--spacing-80);
		position: relative;
		background-color: var(--swatch-bg, var(--background, #64748b)) !important;
	}
	.colors-doc .color-card .color-swatch .color-swatch__bg,
	.docs__content .colors-doc .color-card .color-swatch .color-swatch__bg {
		position: absolute;
		inset: 0;
		z-index: 0;
		border-radius: inherit;
		pointer-events: none;
		background-color: var(--swatch-bg, var(--background, #64748b)) !important;
	}
	.colors-doc .color-card .color-swatch > .color-swatch__info,
	.docs__content .colors-doc .color-card .color-swatch > .color-swatch__info {
		position: relative;
		z-index: 1;
	}
</style>

<style is:global>
	/* Scoped under .colors-doc to avoid Astro adding data-astro-cid to every element. */
	.colors-doc .colors-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(var(--spacing-96), 1fr));
		gap: var(--spacing-6);
		margin: var(--section-spacing) 0;
	}

	.colors-doc .color-swatch {
		min-height: var(--spacing-80);
		border-radius: var(--radius-lg);
		padding: var(--spacing-6);
		display: flex;
		flex-direction: column;
		justify-content: flex-end;
		position: relative;
		overflow: hidden;
	}

	.colors-doc .color-swatch__info {
		/* Fallback for browsers that don't support oklch(from ...); supported browsers use the overlay */
		background-color: var(--background-alt, #64748b);
		background-color: oklch(from var(--background-alt) l c h / 95%);
		backdrop-filter: blur(var(--blur-md));
		padding: var(--spacing-4);
		border-radius: var(--radius-md);
		margin-top: auto;
		min-height: var(--spacing-28);
	}

	/* Force 4.5:1+ contrast for desc text where theme tokens yield low contrast (axe color-contrast) */
	.colors-doc [data-color-var="--secondary-color"] > .color-swatch__info,
	.colors-doc [data-color-var="--text-on-solid-hover"] > .color-swatch__info {
		background-color: #1e293b !important;
		color: #f1f5f9 !important;
	}

	.colors-doc .color-swatch__name {
		margin: 0 0 var(--spacing-1) 0;
		font-size: var(--font-size-lg);
		font-weight: var(--font-weight-semibold);
	}

	.colors-doc .color-swatch__var {
		margin: 0 0 var(--spacing-3) 0;
		font-size: var(--font-size-sm);
		font-family: var(--font-family-mono);
		color: var(--text-dim);
	}

	.colors-doc .color-swatch__formats {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-2);
	}

	.colors-doc .color-format__copy {
		width: 100%;
	}

	.colors-doc .color-swatch .copy-to-clipboard {
		display: inline-flex;
		align-items: center;
		width: 100%;
	}

	.colors-doc .color-swatch .copy-to-clipboard__text {
		flex: 1;
		min-width: 0;
		white-space: normal !important;
		overflow: visible !important;
		text-overflow: clip !important;
		word-break: break-all;
	}

	.colors-doc .color-swatch .copy-to-clipboard__icon--copy {
		align-self: center;
		flex-shrink: 0;
	}

	.colors-doc .color-scales-section {
		margin-top: var(--spacing-12);
	}

	.colors-doc .color-scales-section__block {
		margin-bottom: var(--spacing-10);
	}

	.colors-doc .color-scales-section__block:last-child {
		margin-bottom: 0;
	}

	.colors-doc .color-scales-section__scale-title {
		font-size: var(--font-size-2xl);
		font-weight: var(--font-weight-bold);
		color: var(--text);
		margin: var(--spacing-8) 0 var(--spacing-4) 0;
		padding-bottom: var(--spacing-2);
		border-bottom: var(--border-width) solid var(--border);
	}

	.colors-doc .color-scales-section__block:first-child .color-scales-section__scale-title {
		margin-top: var(--spacing-6);
	}

	.colors-doc .colors-grid--scales {
		grid-template-columns: repeat(auto-fill, minmax(var(--spacing-80), 1fr));
	}

	.colors-doc .color-swatch--scale {
		min-height: var(--spacing-72);
	}

	.colors-doc .color-swatch--scale .color-swatch__info {
		min-height: var(--spacing-24);
	}

	@media (width <= 640px) {
		.colors-doc .colors-grid {
			grid-template-columns: 1fr;
		}

		.colors-doc .colors-grid--scales {
			grid-template-columns: 1fr;
		}

		.colors-doc .color-swatch {
			min-height: var(--spacing-70);
		}

		.colors-doc .color-swatch__info {
			min-height: var(--spacing-24);
		}

		.colors-doc .color-swatch--scale {
			min-height: var(--spacing-56);
		}
	}
</style>

<script is:inline>
	// @ts-nocheck
	(function initColorFormats() {
		let currentFormat = 'oklch';
		const FORMAT_LABELS = { oklch: 'OKLCH', hex: 'Hex', rgb: 'RGB', hsl: 'HSL', cssvar: 'CSS Variable' };

		function safeGetPropertyValue(el, prop) {
			try {
				if (!el || !prop) return '';
				const v = getComputedStyle(el).getPropertyValue(prop);
				return typeof v === 'string' ? v.trim() : '';
			} catch (_) {
				return '';
			}
		}

		function updateColorValues() {
			try {
				const root = document.documentElement;
				const doc = document.querySelector('.colors-doc');
				const swatches = doc ? doc.querySelectorAll('[data-color-var]') : document.querySelectorAll('[data-color-var]');
				swatches.forEach((swatch) => {
					try {
						const colorVar = swatch.getAttribute('data-color-var');
						if (!colorVar) return;
						let value = '';
						let formatLabel = FORMAT_LABELS[currentFormat] || currentFormat;
						if (currentFormat === 'cssvar') {
							value = 'var(' + colorVar + ')';
						} else {
							const formatVar = colorVar + '--' + currentFormat;
							value = safeGetPropertyValue(root, formatVar);
							if (!value && currentFormat === 'oklch') {
								value = safeGetPropertyValue(root, colorVar);
							}
							if (!value) {
								const bg = getComputedStyle(swatch).getPropertyValue('background-color').trim();
								if (bg) value = bg;
							}
						}
						if (!value) value = 'var(' + colorVar + ')';
						const formatVarName = currentFormat === 'cssvar' ? colorVar : colorVar + '--' + currentFormat;
						const varEl = swatch.querySelector('.color-swatch__var');
						if (varEl) varEl.textContent = formatVarName;
						const card = swatch.closest('.color-card');
						const copyBtn = swatch.querySelector('button.copy-to-clipboard[data-color-copy]') ||
							swatch.querySelector('button.copy-to-clipboard') ||
							(card && card.querySelector('button.copy-to-clipboard'));
						if (copyBtn) {
							copyBtn.setAttribute('data-copy-format', formatLabel);
							copyBtn.setAttribute('data-copy-value', value);
							const textSpan = copyBtn.querySelector('.copy-to-clipboard__text');
							if (textSpan) textSpan.textContent = value;
							try { copyBtn.dispatchEvent(new CustomEvent('value-updated', { bubbles: false, detail: { value, format: formatLabel } })); } catch (_) {}
						}
					} catch (_) {}
				});
			} catch (_) {}
		}

		function init() {
			const tabs = document.querySelectorAll('.color-format-tab');
			tabs.forEach((tab) => {
				tab.addEventListener('click', () => {
					const format = tab.getAttribute('data-format');
					if (format) {
						currentFormat = format;
						tabs.forEach((t) => { t.setAttribute('aria-selected', 'false'); t.setAttribute('tabindex', '-1'); });
						tab.setAttribute('aria-selected', 'true');
						tab.setAttribute('tabindex', '0');
						updateColorValues();
					}
				});
				tab.addEventListener('keydown', (e) => {
					if ((e.key === 'Enter' || e.key === ' ') && tab.getAttribute('data-format')) {
						e.preventDefault();
						tab.click();
					}
				});
			});
			requestAnimationFrame(updateColorValues);
			setTimeout(updateColorValues, 0);
			setTimeout(updateColorValues, 100);
			setTimeout(updateColorValues, 400);
			setTimeout(updateColorValues, 800);
			window.addEventListener('load', () => {
				requestAnimationFrame(updateColorValues);
				setTimeout(updateColorValues, 0);
			});
			document.addEventListener('themechange', () => setTimeout(updateColorValues, 100));
			window.addEventListener('rizzo-theme-change', () => setTimeout(updateColorValues, 100));
		}

		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', init);
		} else {
			setTimeout(init, 50);
		}
	})();
</script>
