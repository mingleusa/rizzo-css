---
import DocsLayout from '../../../layouts/DocsLayout.astro';
import Card from '../../../components/Card.astro';
import { VANILLA_COMPONENT_SLUGS, VANILLA_COMPONENT_TITLES } from '../../../config/vanillaSnippets';

const componentDescriptions: Record<string, string> = {
  navbar: 'Responsive, accessible navigation bar with Search and Settings',
  settings: 'Comprehensive settings panel for theme switching and accessibility options',
  'theme-switcher': 'Accessible theme switcher with theme icons and keyboard navigation',
  button: 'Semantic button component with variants using theme variables',
  badge: 'Small labels and tags for displaying status, categories, or counts',
  accordion: 'Collapsible sections with single/multiple open and keyboard navigation',
  breadcrumb: 'Navigation breadcrumbs with separator customization and responsive truncation',
  pagination: 'Accessible pagination with prev/next, page numbers, ellipsis, and configurable URLs',
  'progress-bar': 'Progress bar with variants, sizes, optional label, and indeterminate (loading) state',
  spinner: 'Accessible loading spinner with variants and sizes; respects reduced motion',
  avatar: 'User avatar with image or initials fallback, sizes and circle/square shape',
  divider: 'Horizontal or vertical divider line with optional label (e.g. OR)',
  table: 'Data table with column sorting and optional filtering',
  icons: 'Reusable SVG icon components (Tabler Icons and Devicons) with interactive card grid and copy functionality',
  'copy-to-clipboard': 'Component for copying text values to the clipboard with visual feedback',
  forms: 'Comprehensive set of accessible form components with validation states',
  cards: 'Flexible card component with variants, sections, and image support',
  modal: 'Accessible modal/dialog component with focus trapping and keyboard navigation',
  alert: 'Accessible alert component with variants, dismissible functionality, and auto-dismiss',
  toast: 'Fixed position toast notifications with auto-dismiss and programmatic control',
  search: 'Search component with Algolia integration and live filtering',
  tooltip: 'Accessible tooltip component with positioning options and hover states',
  dropdown: 'Accessible dropdown menu with keyboard navigation, nested submenus, separators, and menu items (live demos use same Astro component)',
  tabs: 'Accessible tabs component with keyboard navigation and ARIA tab pattern',
};
---

<DocsLayout title="Vanilla Components" description="Interactive examples and copyable HTML for Rizzo CSS components.">
  <section>
    <h2>Component Library</h2>
    <p>Each component has a Vanilla page with copyable HTML and, where available, a live demo. Use the same BEM classes in your own HTML once Rizzo CSS is loaded. Interactive behavior (modal, dropdown, tabs, search, copy-to-clipboard, navbar mobile, etc.) is wired by <code>js/main.js</code> when you use the Full scaffold; tooltips use CSS only (:hover and :focus-within).</p>
  </section>
  <section>
    <h2>Available Components</h2>
    <div class="vanilla-components-grid">
      {VANILLA_COMPONENT_SLUGS.map((slug) => (
        <a href={`/docs/vanilla/components/${slug}`} class="component-card-link">
          <Card variant="elevated">
            <div class="card__body">
              <h3 style="margin: 0 0 var(--spacing-2) 0;">{VANILLA_COMPONENT_TITLES[slug] ?? slug}</h3>
              <p style="margin: 0; color: var(--text-dim); font-size: var(--font-size-sm);">{componentDescriptions[slug] ?? 'Vanilla HTML + BEM usage.'}</p>
            </div>
          </Card>
        </a>
      ))}
    </div>
  </section>
</DocsLayout>

<style>
  .vanilla-components-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(var(--spacing-70), 1fr));
    gap: var(--spacing-6);
    margin: var(--spacing-8) 0;
  }
  .component-card-link {
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    height: 100%;
    transition: transform var(--transition-base);
  }
  .component-card-link :global(.card) {
    flex: 1;
    display: flex;
    flex-direction: column;
    min-height: 0;
  }
  .component-card-link :global(.card .card__body) {
    flex: 1;
  }
  .component-card-link:hover {
    transform: translateY(calc(-1 * var(--spacing-0-125)));
  }
  .component-card-link:focus-visible {
    outline: var(--outline-width) solid var(--accent-fg);
    outline-offset: var(--outline-offset);
    border-radius: var(--radius-lg);
  }
  .component-card-link .card__body h3 {
    color: var(--text);
    transition: color var(--transition-base);
  }
  .component-card-link:hover .card__body h3 {
    color: var(--accent-fg);
  }
  @media (prefers-reduced-motion: reduce) {
    .component-card-link {
      transition: none;
    }
    .component-card-link:hover {
      transform: none;
    }
  }
  @media (width <= 640px) {
    .vanilla-components-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
