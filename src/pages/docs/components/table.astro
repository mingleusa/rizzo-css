---
import DocsLayout from '../../../layouts/DocsLayout.astro';
import TableComponent from '../../../components/Table.astro';
import CodeBlock from '../../../components/CodeBlock.astro';
---

<DocsLayout title="Table Component" description="Accessible data table with sorting and optional filtering">
	<section>
		<h2>Table Component</h2>
		<p>An accessible data table for displaying tabular data. Supports column header sorting (click or Enter/Space), optional filter input to search across all columns, striped rows, and responsive horizontal scroll.</p>
		
		<h3>Props</h3>
		<ul>
			<li><code>columns</code> (array, required) - Column definitions: <code>{'{ key, label, sortable?, type? }'}</code>. <code>type</code> is <code>'string'</code> or <code>'number'</code> for sort order.</li>
			<li><code>data</code> (array, required) - Row data: array of objects with keys matching column <code>key</code>.</li>
			<li><code>caption</code> (string, optional) - Table caption for accessibility.</li>
			<li><code>sortable</code> (boolean, optional) - Enable column header sorting (default: true).</li>
			<li><code>filterable</code> (boolean, optional) - Show filter input above table (default: false).</li>
			<li><code>filterPlaceholder</code> (string, optional) - Placeholder for filter input (default: "Filter table…").</li>
			<li><code>striped</code> (boolean, optional) - Striped rows (default: true).</li>
			<li><code>class</code> (string, optional) - Additional CSS classes.</li>
		</ul>

		<h3>Basic Usage</h3>
		<div class="example">
			<div class="example-title">Live Example</div>
			<TableComponent
				caption="Sample data"
				columns={[
					{ key: 'name', label: 'Name' },
					{ key: 'role', label: 'Role' },
					{ key: 'status', label: 'Status' },
				]}
				data={[
					{ name: 'Alice', role: 'Developer', status: 'Active' },
					{ name: 'Bob', role: 'Designer', status: 'Active' },
					{ name: 'Carol', role: 'Manager', status: 'Away' },
				]}
			/>
		</div>
		<CodeBlock code={`---
import Table from '../components/Table.astro';
---

<Table
  caption="Sample data"
  columns={[
    { key: 'name', label: 'Name' },
    { key: 'role', label: 'Role' },
    { key: 'status', label: 'Status' },
  ]}
  data={[
    { name: 'Alice', role: 'Developer', status: 'Active' },
    { name: 'Bob', role: 'Designer', status: 'Active' },
    { name: 'Carol', role: 'Manager', status: 'Away' },
  ]}
/>`} language="astro" />

		<h3>With Sorting (number column)</h3>
		<p>Set <code>type: 'number'</code> on columns that should sort numerically.</p>
		<div class="example">
			<div class="example-title">Live Example</div>
			<TableComponent
				caption="Scores"
				columns={[
					{ key: 'name', label: 'Name' },
					{ key: 'score', label: 'Score', type: 'number' },
					{ key: 'level', label: 'Level', type: 'number' },
				]}
				data={[
					{ name: 'Alice', score: 92, level: 3 },
					{ name: 'Bob', score: 87, level: 2 },
					{ name: 'Carol', score: 95, level: 4 },
				]}
			/>
		</div>
		<CodeBlock code={`<Table
  caption="Scores"
  columns={[
    { key: 'name', label: 'Name' },
    { key: 'score', label: 'Score', type: 'number' },
    { key: 'level', label: 'Level', type: 'number' },
  ]}
  data={[
    { name: 'Alice', score: 92, level: 3 },
    { name: 'Bob', score: 87, level: 2 },
    { name: 'Carol', score: 95, level: 4 },
  ]}
/>`} language="astro" />

		<h3>With Filter</h3>
		<p>Use <code>filterable</code> to show a search input that filters rows by any column.</p>
		<div class="example">
			<div class="example-title">Live Example</div>
			<TableComponent
				caption="Filterable list"
				columns={[
					{ key: 'name', label: 'Name' },
					{ key: 'role', label: 'Role' },
					{ key: 'status', label: 'Status' },
				]}
				data={[
					{ name: 'Alice', role: 'Developer', status: 'Active' },
					{ name: 'Bob', role: 'Designer', status: 'Active' },
					{ name: 'Carol', role: 'Manager', status: 'Away' },
					{ name: 'Dave', role: 'Developer', status: 'Active' },
				]}
				filterable
				filterPlaceholder="Search…"
			/>
		</div>
		<CodeBlock code={`<Table
  caption="Filterable list"
  columns={[...]}
  data={[...]}
  filterable
  filterPlaceholder="Search…"
/>`} language="astro" />

		<h3>Without Stripes</h3>
		<div class="example">
			<div class="example-title">Live Example</div>
			<TableComponent
				caption="Plain table"
				columns={[{ key: 'a', label: 'A' }, { key: 'b', label: 'B' }]}
				data={[{ a: '1', b: '2' }, { a: '3', b: '4' }]}
				striped={false}
			/>
		</div>

		<h3>Features</h3>
		<ul>
			<li><strong>Accessible</strong> - Semantic <code>&lt;table&gt;</code>, <code>&lt;caption&gt;</code>, <code>scope="col"</code>, <code>aria-sort</code> on sortable headers, keyboard (Enter/Space) to sort.</li>
			<li><strong>Sorting</strong> - Sortable column headers use the Sort icon; click to sort ascending/descending; <code>type: 'number'</code> for numeric sort.</li>
			<li><strong>Filtering</strong> - Optional filter input with Filter icon; rows are shown/hidden by matching text in any cell.</li>
			<li><strong>Striped rows</strong> - Optional alternating row background; row hover uses theme colors for contrast.</li>
			<li><strong>Responsive</strong> - Table wrapper scrolls horizontally on small screens.</li>
		</ul>
		<p><strong>Svelte & Vanilla:</strong> <a href="/docs/svelte/components/table">Svelte</a> · Vanilla: same HTML and BEM as in Usage above; add minimal JS for sorting/filter if needed.</p>
	</section>
</DocsLayout>
