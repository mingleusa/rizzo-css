---
import DocsLayout from '../../../layouts/DocsLayout.astro';
import AddComponentTabs from '../../../components/AddComponentTabs.astro';
import FrameworkCodeTabs from '../../../components/FrameworkCodeTabs.astro';
---

<DocsLayout title="Navbar Component — Astro" description="Responsive, accessible navigation bar with integrated settings button">
	<section>
		<h2>Navbar Component</h2>
		<p>A responsive, accessible navigation bar with integrated settings button.</p>
		<AddComponentTabs componentName="Navbar" />
		<h3>Usage</h3>
		<div class="example">
			<div class="example-title">Live Example</div>
			<p>The navbar is already included in the Layout component at the top of this page. It includes:</p>
			<ul>
				<li><strong>Desktop:</strong> Docs dropdown (Introduction, Foundations); Components dropdown with 2-column layout and vertical divider</li>
				<li><strong>Mobile:</strong> Menu toggle on left; search and settings icon-only (same size as menu toggle) on right</li>
				<li>Responsive mobile menu with hamburger toggle (activates at 1024px and below)</li>
				<li>Smooth hamburger-to-X animation</li>
				<li>Active link indicator with underline matching hover effect</li>
				<li>Dropdown menus: Docs (Getting Started, Design System, Theming, Accessibility, Colors) and Components (Overview + all component links). Theming is under Docs; no separate Themes item in the nav.</li>
				<li>Dropdown arrow rotates on hover</li>
				<li>Smart dropdown alignment (prevents viewport overflow)</li>
				<li>Full keyboard navigation for dropdowns (Arrow keys, Enter, Space, Escape, Home, End)</li>
				<li>Keyboard accessible with full ARIA support</li>
				<li>Settings button (gear icon) that opens Settings panel</li>
				<li>Sticky positioning at top</li>
				<li>Full width layout with no gaps</li>
				<li>Theme flash prevention (inline script in Layout)</li>
				<li>All styles use design system CSS variables for framework portability</li>
			</ul>
		</div>
		
		<h3>Usage</h3>
		<p>Include the Navbar in your layout; component scripts run after DOM ready so they work when imported. <strong>Adding Navbar automatically adds Search and Settings</strong> (CLI dependency) so the search bar and gear button work. Add Settings once in the same layout (see Settings docs).</p>
		<FrameworkCodeTabs
			astro={`---
import Navbar from '../components/rizzo/Navbar.astro';
import Settings from '../components/rizzo/Settings.astro';
---

<!-- Navbar includes Search; add Settings so the gear button works. -->
<Navbar siteName="My Site" />
<Settings />
<main>
  <!-- page content -->
</main>`}
			svelte={`<script>
  import { Navbar, Settings } from '$lib/rizzo';
</script>

<!-- Navbar includes Search; add Settings so the gear button works. -->
<Navbar siteName="My Site" />
<Settings />
<main>
  <!-- page content -->
</main>`}
			vanilla={`<!-- From scaffold: Navbar includes Search + Settings button. Include js/main.js for mobile menu (click-outside, Escape), search (focus trap, click-outside), and settings. -->
<nav class="navbar" role="navigation" aria-label="Main navigation">
  <div class="navbar__container">
    <div class="navbar__brand">
      <a href="/" class="navbar__brand-link">My Site</a>
    </div>
    <div class="navbar__actions-desktop">
      <div class="search" data-search>
        <div class="search__trigger-wrapper">
          <button type="button" class="search__trigger" aria-label="Open search" aria-expanded="false" aria-controls="navbar-search-panel">
            <span class="search__trigger-text">Search</span>
          </button>
        </div>
        <div class="search__overlay" id="navbar-search-panel" aria-hidden="true" role="dialog" aria-modal="true" data-search-overlay>
          <div class="search__panel">
            <input type="search" class="search__input" placeholder="Search…" aria-label="Search" />
            <div class="search__results" role="listbox" aria-label="Search results">
              <div class="search__empty"><p class="search__empty-text">Start typing to search…</p></div>
              <div class="search__results-list" role="group" aria-label="Sample results">
                <a href="#" class="search__result-item" tabindex="-1"><div class="search__result-category">Docs</div><div class="search__result-title">Getting started</div></a>
                <a href="#" class="search__result-item" tabindex="-1"><div class="search__result-category">Docs</div><div class="search__result-title">Components</div></a>
                <a href="#" class="search__result-item" tabindex="-1"><div class="search__result-category">Docs</div><div class="search__result-title">Theming</div></a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button type="button" class="navbar__settings-btn" aria-label="Open settings" onclick="window.openSettings && window.openSettings()">
        <span class="navbar__settings-label">Settings</span>
      </button>
    </div>
    <button type="button" class="navbar__toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="navbar-menu">
      <span class="navbar__toggle-icon" aria-hidden="true"><span></span><span></span><span></span></span>
    </button>
    <div class="navbar__menu" id="navbar-menu" role="menu" aria-hidden="true">
      <a href="/" class="navbar__link">Home</a>
    </div>
  </div>
</nav>
<!-- Include Settings panel HTML from scaffold; js/main.js wires openSettings, overlay click, Escape, focus trap. -->`}
		/>
		
		<h3>Props</h3>
		<ul>
			<li><code>siteName</code> (string, optional) - Site name displayed in navbar brand</li>
			<li><code>logo</code> (string, optional) - Path to logo image</li>
		</ul>
		
		<h3>Features</h3>
		<ul>
			<li><strong>Desktop Layout:</strong>
				<ul>
					<li>Search and settings buttons on far right</li>
					<li><strong>2-column dropdown layout</strong> - The Components dropdown displays in a 2-column grid with vertical divider. Docs dropdown shows Introduction and Foundations only (Theming is under Docs).</li>
					<li>Smart dropdown positioning - Automatically adjusts to prevent viewport overflow</li>
					<li>Dropdown arrow rotates on hover/expand</li>
				</ul>
			</li>
			<li><strong>Mobile Layout:</strong>
				<ul>
					<li>Mobile menu toggle positioned on the left (after logo/brand)</li>
					<li>Search and settings on the right: icon-only, same size as menu toggle (compact bar, no overflow)</li>
					<li>Responsive mobile menu (activates at 1024px and below) with full-width layout; when open, fixed positioning so it stacks above site content</li>
					<li>Increased vertical spacing for better readability, especially in dropdown menus</li>
					<li>Mobile menu links start from left edge with minimal padding</li>
					<li>Mutually exclusive with search (only one open at a time on mobile)</li>
					<li>Dropdown toggles use buttons (not links) for accessibility</li>
				</ul>
			</li>
			<li>Full-width border (100% width; avoids horizontal overflow on mobile)</li>
			<li>Responsive mobile menu with smooth open/close transitions</li>
			<li>Dropdown menus with full keyboard navigation (Arrow keys, Enter, Space, Escape, Home, End)</li>
			<li>Active link indicator with underline</li>
			<li>Sticky positioning at top</li>
			<li>All styles use design system variables for easy framework portability</li>
		</ul>
		<p><strong>Other frameworks:</strong> <a href="/docs/svelte/components/navbar">Svelte docs</a> · <a href="/docs/vanilla/components/navbar">Vanilla docs</a></p>
	</section>
</DocsLayout>
