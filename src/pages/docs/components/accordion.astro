---
import DocsLayout from '../../../layouts/DocsLayout.astro';
import AccordionComponent from '../../../components/Accordion.astro';
import CodeBlock from '../../../components/CodeBlock.astro';
---

<DocsLayout title="Accordion Component — Astro" description="Accessible accordion with collapsible sections, single or multiple open states, and keyboard navigation">
	<section>
		<h2>Accordion Component</h2>
		<p>An accessible accordion for collapsible sections. Supports single or multiple open panels and full keyboard navigation.</p>
		
		<h3>Props</h3>
		<ul>
			<li><code>items</code> (array, required) - Array of objects with <code>id</code>, <code>title</code>, and optional <code>content</code></li>
			<li><code>id</code> (string, optional) - Unique identifier for the accordion</li>
			<li><code>allowMultiple</code> (boolean, optional) - Allow multiple panels open at once (default: <code>false</code>)</li>
			<li><code>defaultExpanded</code> (string | string[], optional) - ID or array of IDs to expand by default (defaults to first item)</li>
			<li><code>class</code> (string, optional) - Additional CSS classes</li>
		</ul>

		<h3>Item Structure</h3>
		<ul>
			<li><code>id</code> (string, required) - Unique identifier for the item</li>
			<li><code>title</code> (string, required) - Heading text for the trigger</li>
			<li><code>content</code> (string, optional) - HTML content for the panel (alternative to using slots)</li>
		</ul>

		<h3>Basic Usage (Single Open)</h3>
		<p>By default only one panel is open at a time. Provide panel content as children in the same order as the items array:</p>
		<div class="example">
			<div class="example-title">Live Example</div>
			<AccordionComponent
				items={[
					{ id: 'one', title: 'Section one' },
					{ id: 'two', title: 'Section two' },
					{ id: 'three', title: 'Section three' },
				]}
			>
				<div>
					<p>Content for section one. Only one panel is open at a time.</p>
				</div>
				<div>
					<p>Content for section two.</p>
				</div>
				<div>
					<p>Content for section three.</p>
				</div>
			</AccordionComponent>
		</div>

		<CodeBlock code={`---
import Accordion from '../components/Accordion.astro';
---

<Accordion
  items={[
    { id: 'one', title: 'Section one' },
    { id: 'two', title: 'Section two' },
    { id: 'three', title: 'Section three' },
  ]}
>
  <div><p>Content for section one</p></div>
  <div><p>Content for section two</p></div>
  <div><p>Content for section three</p></div>
</Accordion>`} language="astro" />

		<h3>Multiple Panels Open</h3>
		<p>Set <code>allowMultiple</code> to <code>true</code> to allow multiple panels to be open at once:</p>
		<div class="example">
			<div class="example-title">Live Example</div>
			<AccordionComponent
				allowMultiple
				items={[
					{ id: 'a', title: 'First' },
					{ id: 'b', title: 'Second' },
					{ id: 'c', title: 'Third' },
				]}
			>
				<div><p>First panel content. You can open several at once.</p></div>
				<div><p>Second panel content.</p></div>
				<div><p>Third panel content.</p></div>
			</AccordionComponent>
		</div>

		<CodeBlock code={`<Accordion
  allowMultiple
  items={[
    { id: 'a', title: 'First' },
    { id: 'b', title: 'Second' },
    { id: 'c', title: 'Third' },
  ]}
>
  <div><p>First panel content</p></div>
  <div><p>Second panel content</p></div>
  <div><p>Third panel content</p></div>
</Accordion>`} language="astro" />

		<h3>With Content Property</h3>
		<p>You can provide panel content directly in the item object:</p>
		<div class="example">
			<div class="example-title">Live Example</div>
			<AccordionComponent
				items={[
					{ id: 'faq1', title: 'What is Rizzo CSS?', content: '<p>A design system and component library built with semantic CSS variables and Astro.</p>' },
					{ id: 'faq2', title: 'Is it accessible?', content: '<p>Yes. Components follow WCAG 2.1 AA and use proper ARIA patterns.</p>' },
					{ id: 'faq3', title: 'Can I use it with other frameworks?', content: '<p>The CSS is framework-agnostic. See the multi-framework documentation.</p>' },
				]}
			/>
		</div>

		<CodeBlock code={`<Accordion
  items={[
    { id: 'faq1', title: 'Question one', content: '<p>Answer one</p>' },
    { id: 'faq2', title: 'Question two', content: '<p>Answer two</p>' },
  ]}
/>`} language="astro" />

		<h3>Default Expanded</h3>
		<p>Control which panel(s) are open initially with <code>defaultExpanded</code>:</p>
		<div class="example">
			<div class="example-title">Live Example</div>
			<AccordionComponent
				defaultExpanded="second"
				items={[
					{ id: 'first', title: 'First' },
					{ id: 'second', title: 'Second (open by default)' },
					{ id: 'third', title: 'Third' },
				]}
			>
				<div><p>First panel</p></div>
				<div><p>Second panel is expanded by default.</p></div>
				<div><p>Third panel</p></div>
			</AccordionComponent>
		</div>

		<CodeBlock code={`<Accordion
  defaultExpanded="second"
  items={[
    { id: 'first', title: 'First' },
    { id: 'second', title: 'Second' },
    { id: 'third', title: 'Third' },
  ]}
>
  <div><p>First</p></div>
  <div><p>Second</p></div>
  <div><p>Third</p></div>
</Accordion>`} language="astro" />

		<h3>Features</h3>
		<ul>
			<li><strong>Collapsible sections</strong> - Expand and collapse panels with smooth transitions</li>
			<li><strong>Single or multiple open</strong> - <code>allowMultiple</code> controls whether only one or several panels can be open</li>
			<li><strong>Keyboard navigation</strong> - Arrow Up/Down, Home, End, Enter, and Space</li>
			<li><strong>ARIA</strong> - <code>aria-expanded</code>, <code>aria-controls</code>, <code>region</code>, <code>aria-labelledby</code></li>
			<li><strong>Content from props or slots</strong> - Use <code>content</code> (HTML string) or pass children for panel content</li>
			<li><strong>Theme-aware</strong> - Uses design system variables</li>
		</ul>

		<h3>Keyboard Navigation</h3>
		<ul>
			<li><strong>Arrow Down</strong> - Focus next trigger</li>
			<li><strong>Arrow Up</strong> - Focus previous trigger</li>
			<li><strong>Home</strong> - Focus first trigger</li>
			<li><strong>End</strong> - Focus last trigger</li>
			<li><strong>Enter / Space</strong> - Toggle focused panel</li>
		</ul>
		<p><strong>Svelte & Vanilla:</strong> <a href="/docs/svelte/components/accordion">Svelte</a> · Vanilla: same HTML and BEM as in Usage above; add minimal JS for expand/collapse.</p>
	</section>
</DocsLayout>
