---
import BlocksLayout from '../../layouts/BlocksLayout.astro';
import Dashboard from '../../components/Dashboard.astro';
import Card from '../../components/Card.astro';
import CodeBlock from '../../components/CodeBlock.astro';
---

<BlocksLayout
	title="Dashboard with sidebar"
	description="App dashboard with sidebar navigation, stat cards, and data table. Built with Dashboard, Card, and Table components."
	documentTitle="Dashboard with sidebar — Blocks — Rizzo CSS"
>
	<section>
			<p>This block combines the <strong>Dashboard</strong> layout (sidebar + main), <strong>Card</strong> components for stats, and a <strong>Table</strong> for data. Use it as a starting point for app dashboards. You get the same structure when you scaffold with <code>npx rizzo-css init --template dashboard</code>.</p>
		</section>

		<section>
			<h2 id="preview">Preview</h2>
			<p class="docs-dim">Below is the block rendered with Rizzo components. In your app this would be your root layout and page content.</p>
			<div class="block-preview-wrapper">
				<Dashboard sidebarLabel="Dashboard navigation">
					<nav slot="sidebar" class="dashboard__nav">
						<a href="/blocks/dashboard-01" class="dashboard__nav-link dashboard__nav-link--active" aria-current="page">Dashboard</a>
						<a href="#" class="dashboard__nav-link">Items</a>
						<a href="#" class="dashboard__nav-link">Settings</a>
					</nav>
					<div class="dashboard-page">
						<header class="dashboard-page__header">
							<h1 class="dashboard-page__title">Dashboard</h1>
							<p class="dashboard-page__subtitle">Overview. Replace with your own content.</p>
						</header>
						<section class="dashboard-page__stats" aria-labelledby="stats-heading">
							<h2 id="stats-heading" class="sr-only">Key metrics</h2>
							<div class="dashboard-page__stats-grid">
								<Card class="dashboard-page__stat">
									<div class="card__body">
										<span class="card__label">Total users</span>
										<span class="card__value">1,234</span>
									</div>
								</Card>
								<Card class="dashboard-page__stat">
									<div class="card__body">
										<span class="card__label">Revenue</span>
										<span class="card__value">$12,345</span>
									</div>
								</Card>
								<Card class="dashboard-page__stat">
									<div class="card__body">
										<span class="card__label">Active</span>
										<span class="card__value">89%</span>
									</div>
								</Card>
							</div>
						</section>
						<section class="dashboard-page__table" aria-labelledby="table-heading">
							<h2 id="table-heading" class="dashboard-page__section-title">Recent activity</h2>
							<div class="table-wrapper">
								<table class="table">
									<caption class="sr-only">Recent activity list</caption>
									<thead>
										<tr class="table__row">
											<th scope="col" class="table__cell table__cell--header">Name</th>
											<th scope="col" class="table__cell table__cell--header">Status</th>
											<th scope="col" class="table__cell table__cell--header">Date</th>
										</tr>
									</thead>
									<tbody>
										<tr class="table__row">
											<td class="table__cell">Item one</td>
											<td class="table__cell"><span class="badge badge--success">Done</span></td>
											<td class="table__cell">Today</td>
										</tr>
										<tr class="table__row">
											<td class="table__cell">Item two</td>
											<td class="table__cell"><span class="badge badge--warning">Pending</span></td>
											<td class="table__cell">Yesterday</td>
										</tr>
										<tr class="table__row">
											<td class="table__cell">Item three</td>
											<td class="table__cell"><span class="badge badge--error">Failed</span></td>
											<td class="table__cell">Jan 15</td>
										</tr>
									</tbody>
								</table>
							</div>
						</section>
					</div>
				</Dashboard>
			</div>
		</section>

		<section>
			<h2 id="scaffold">Get this block via CLI</h2>
			<p>Scaffold a new project with the Dashboard variation (Astro or Svelte):</p>
			<CodeBlock code="npx rizzo-css init --framework astro --template dashboard --yes" language="bash" />
			<p>Or add to an existing project:</p>
			<CodeBlock code="npx rizzo-css add --framework astro --template dashboard" language="bash" />
		</section>

		<section>
			<h2>Components used</h2>
			<ul>
				<li><a href="/docs/components/dashboard">Dashboard</a> — layout with sidebar + main</li>
				<li><a href="/docs/components/cards">Card</a> — stat cards</li>
				<li><a href="/docs/components/table">Table</a> — data table (with Badge for status)</li>
			</ul>
		</section>
</BlocksLayout>

<style>
	.block-preview-wrapper {
		margin: var(--spacing-6) 0;
		border: 1px solid var(--border);
		border-radius: var(--radius-lg);
		overflow: hidden;
		min-height: 24rem;
	}
	.dashboard-page__header { margin-bottom: var(--spacing-6); }
	.dashboard-page__title { font-size: var(--text-2xl); font-weight: 700; margin: 0 0 var(--spacing-1); }
	.dashboard-page__subtitle { margin: 0; color: var(--text-dim); }
	.dashboard-page__stats-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));
		gap: var(--spacing-4);
		margin-bottom: var(--spacing-8);
	}
	.dashboard-page__stat :global(.card__body) {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-1);
	}
	.dashboard-page__stat :global(.card__label) {
		font-size: var(--text-sm);
		color: var(--text-dim);
	}
	.dashboard-page__stat :global(.card__value) {
		font-size: var(--text-xl);
		font-weight: 700;
	}
	.dashboard-page__section-title { font-size: var(--text-lg); margin: 0 0 var(--spacing-4); }
	.docs-dim { color: var(--text-dim); font-size: var(--font-size-sm); margin-top: 0; }
</style>
