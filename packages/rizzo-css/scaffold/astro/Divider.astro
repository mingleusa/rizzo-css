---
interface Props {
  /** Orientation of the divider line */
  orientation?: 'horizontal' | 'vertical';
  /** Optional label (e.g. "OR") shown in the middle; only used for horizontal */
  label?: string;
  class?: string;
}

const {
  orientation = 'horizontal',
  label,
  class: className = '',
} = Astro.props;

const orientationClass = `divider--${orientation}`;
const hasLabel = Boolean(label && label.trim());
const labelClass = hasLabel ? 'divider--labeled' : '';
const classes = `divider ${orientationClass} ${labelClass} ${className}`.trim();
---

<div
  class={classes}
  role="separator"
  aria-orientation={orientation}
  aria-label={label?.trim() || undefined}
>
  {hasLabel && orientation === 'horizontal' ? (
    <>
      <span class="divider__line" aria-hidden="true" />
      <span class="divider__label">{label!.trim()}</span>
      <span class="divider__line" aria-hidden="true" />
    </>
  ) : (
    <span class="divider__line" aria-hidden="true" />
  )}
</div>
