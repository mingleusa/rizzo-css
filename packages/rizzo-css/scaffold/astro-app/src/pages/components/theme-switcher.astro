---
import DocsLayout from '../../layouts/DocsLayout.astro';
import ThemeSwitcher from '../../components/ThemeSwitcher.astro';
import CodeBlock from '../../components/CodeBlock.astro';
---

<DocsLayout title="Theme Switcher Component — Astro" description="Accessible theme switcher with theme icons and keyboard navigation">
	
	<p class="docs__read-docs">Read the full docs for this component at <a href="https://rizzo-css.vercel.app/docs/components/theme-switcher" target="_blank" rel="noopener noreferrer">https://rizzo-css.vercel.app/docs/components/theme-switcher</a>.</p>
	
		<section>
		<h2>Theme Switcher Component</h2>
		<p>The ThemeSwitcher is integrated into the Settings panel, but can also be used standalone.</p>
		
		<div class="example">
			<div class="example-title">Live Example</div>
			<p>Try switching themes using the theme switcher below:</p>
			<ThemeSwitcher />
		</div>
		
		<h3>Usage</h3>
		<CodeBlock code={`---
import ThemeSwitcher from '../../components/ThemeSwitcher.astro';
---

<ThemeSwitcher />`} language="astro" />
		
		<h3>Features</h3>
		<p>The theme switcher:</p>
		<ul>
			<li><strong>Preference (System)</strong> – Choose System to follow OS light/dark; theme updates when you change the OS preference.</li>
			<li><strong>Preview panel</strong> – Always visible when the menu is open (on viewports &gt;480px). Shows a fixed “Preview” label; the theme name, swatch, and accent bar show the <strong>current</strong> theme by default and the <strong>hovered</strong> theme on hover/focus. Full-height divider between list and preview. Hidden on small viewports.</li>
			<li>Groups themes by Preference, Dark, and Light; each theme has a unique icon.</li>
			<li>Shows active theme name and icon in the trigger button.</li>
			<li><strong>Consistent width</strong> – The trigger and dropdown use a fixed width (<code>--theme-switcher-width</code>) everywhere (Settings, navbar, standalone) so the longest theme name fits on one line.</li>
			<li>When System is selected, both System and the applied theme show the active background and accent bar.</li>
			<li>Persists selection in <code>localStorage</code> (key <code>theme</code>: theme id or <code>system</code>).</li>
			<li>First visit uses initial <code>data-theme</code> or OS preference.</li>
			<li>Full keyboard navigation (see below).</li>
		</ul>
		
		<h3>Keyboard Navigation</h3>
		<ul>
			<li><code>Enter</code> or <code>Space</code> - Open/close menu</li>
			<li><code>ArrowDown</code> - Open menu and focus first option</li>
			<li><code>ArrowUp</code> - Open menu and focus last option</li>
			<li><code>ArrowDown/ArrowUp</code> - Navigate options within menu</li>
			<li><code>Home</code> - Jump to first option</li>
			<li><code>End</code> - Jump to last option</li>
			<li><code>Enter</code> or <code>Space</code> - Select theme</li>
			<li><code>Escape</code> - Close menu</li>
			<li><code>Tab</code> - Close menu and continue tabbing</li>
		</ul>

		<h3>Building your own theme switcher</h3>
		<p>All 14 themes are included in the Rizzo CSS bundle. Switching themes is done by setting <code>data-theme</code> on <code>&lt;html&gt;</code> and persisting the choice in <code>localStorage</code> (key <code>theme</code>). You can use the ThemeSwitcher component above, or build a custom UI with the same behavior.</p>
		<p><strong>Theme utilities</strong> (see <a href="/docs/getting-started#javascript-utilities">Getting Started – JavaScript utilities</a>):</p>
		<ul>
			<li><code>applyTheme(value)</code> – Sets <code>data-theme</code> and saves to <code>localStorage</code>. Use a theme id (e.g. <code>github-dark-classic</code>) or <code>system</code> to follow OS light/dark. Dispatches <code>rizzo-theme-change</code>.</li>
			<li><code>getThemeLabel(value)</code> / <code>getThemeInfo(value)</code> – Display names for theme ids and for <code>system</code>.</li>
			<li><code>getStoredTheme()</code> – Current stored value (<code>theme</code> id or <code>system</code>).</li>
			<li><code>resolveSystemTheme()</code> – Resolves OS preference to a concrete theme id (dark → GitHub Dark Classic, light → GitHub Light).</li>
			<li>Constants: <code>THEME_SYSTEM</code>, <code>DEFAULT_THEME_DARK</code>, <code>DEFAULT_THEME_LIGHT</code>.</li>
		</ul>
		<p><strong>Theme IDs:</strong> Run <code>npx rizzo-css theme</code> to list all 14 ids, or see <a href="/docs/theming#available-themes">Theming – Available themes</a>. To sync a custom UI when the theme changes elsewhere, listen for the <code>rizzo-theme-change</code> event.</p>
		<p><strong>Svelte & Vanilla:</strong> <a href="/docs/svelte/components/theme-switcher">Svelte</a> (live Svelte component) · <a href="/docs/vanilla/components/theme-switcher">Vanilla</a> (live example + copyable HTML). Or use theme utilities (<code>applyTheme</code>, <code>getThemeLabel</code>) and see <a href="/docs/theming#building-your-own-theme-switcher">Building your own theme switcher</a>.</p>
	</section>
</DocsLayout>
